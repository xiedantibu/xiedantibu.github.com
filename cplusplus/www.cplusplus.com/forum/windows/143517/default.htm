<!DOCTYPE html><!-- saved from url=(0057)http://www.cplusplus.com/forum/windows/143517/default.htm --><meta http-equiv="X-UA-Compatible" content="IE=Edge" />

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>incerement &amp; decrement vs. inc &amp; dec - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico">
<link rel="stylesheet" type="text/css" href="../../../v321/main.css">
<script src="../../../v321/main.js" type="text/javascript"></script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="../../../default.htm" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="../../default.htm">Forum</a></li>
<li><a href="../default.htm">Windows Programming</a></li>
<li class="here">incerement &amp; decrement vs. inc &amp; dec</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support"><script type="text/javascript"><!--
if (!cookieGet("hspt31")) {
  document.write('<div class="C_DonateBox"></div>');
}
//-->
</script><div class="C_ad728"><script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7973859818";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div><div class="C_supportbottom"></div></div><div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> incerement &amp; decrement vs. inc &amp; dec</h3><span id="CH_edttl"></span><span class="rootdatPost" title="143517,root,0,-1,6,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg757128"><span title="757128,76935,1023,19,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg757128" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm75fad4accb" title="Sun, 28 Sep 2014 12:25:57 +0000"></span><script type="text/javascript">WhenId('CH_zTm75fad4accb');</script><noscript>Sep 28, 2014 at 12:25pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/igor1985/default.htm"><b>igor1985</b> (19)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i757128">
i remember recently disassembling a for loop, i was pretty sure Masm assembler will translate i++ operation into inc [var_i] or something similar, but what it actually did was moving [var_i] to a register, Adding 1 to it and moving it back to [var_i]. anyone knows why? i didnt checked the Compiler optimized executable coz when i add optimization features to my compilation the exe crashes. so i dont know if optimized version actually does uses the inc and dec instructions. maybe Bill Gates doesnt likes those instruction? or they are slower then addition? which i doubt
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn757128"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg757165"><span title="757165,29924,1023,4823,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg757165" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm58a6714574" title="Sun, 28 Sep 2014 15:25:18 +0000"></span><script type="text/javascript">WhenId('CH_zTm58a6714574');</script><noscript>Sep 28, 2014 at 3:25pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/computergeek01/default.htm"><b>Computergeek01</b> (4823)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i757165">
There's no one to one translation from C\C++ to assembly. The standards for both languages give compilers an enormous amount of freedom in how they choose to translate code. Then the processors themselves will have a preference of one method over another depending on the model, this is why compilers allow you to specify the processor family that you are compiling your code for. <br>
<br>
I guess what I'm trying to say is that there are too many factors in play to give you a definitive answer to this type of question. To venture a guess about this specific scenario though, I would say that your prediction was more inline with what a prefix increment operation would do. The code that you are describing seems appropriate for a post-fix operation.<br>
<br>
It's good that you are studying the languages this way but don't let it derail you. Remember that they were developed specifically so that you wouldn't have to deal with raw assembly code.
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTma9b07d8ecb" title="Sun, 28 Sep 2014 15:26:11 +0000"></span><script type="text/javascript">WhenId('CH_zTma9b07d8ecb');</script><noscript>Sep 28, 2014 at 3:26pm UTC</noscript></span>
<span class="dbtn" id="CH_btn757165"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg757329"><span title="757329,76935,1023,19,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg757329" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmbd3b14d616" title="Sun, 28 Sep 2014 23:45:28 +0000"></span><script type="text/javascript">WhenId('CH_zTmbd3b14d616');</script><noscript>Sep 28, 2014 at 11:45pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/igor1985/default.htm"><b>igor1985</b> (19)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i757329">
Thanks for the information, and eventually it doesnt matters if the compiler prefers to translate it to:<br>
mov rcx, [var_i]<br>
add rcx, 1<br>
...<br>
i can always change it manualy to<br>
inc [var_i]<br>
or even<br>
mov rcx, [var_i]<br>
inc rcx and NOP the extra bytes that leftover.  even if it will not make thing better, its a good practice.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn757329"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg757352"><span title="757352,11103,1023,4148,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg757352" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm894131e062" title="Mon, 29 Sep 2014 00:57:35 +0000"></span><script type="text/javascript">WhenId('CH_zTm894131e062');</script><noscript>Sep 29, 2014 at 12:57am UTC</noscript></div>
<div class="dwho"><a href="../../../user/zhuge/default.htm"><b>Zhuge</b> (4148)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i757352">
I don't think you are allowed to just increment the memory where i is stored directly; you have to perform that operation on a register. Also if you are not using a debug build, something like a loop counter would probably not even be kept in memory normally and would just stay in a register for it's duration.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn757352"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg757686"><span title="757686,76935,1023,19,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg757686" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm8e95d22b63" title="Mon, 29 Sep 2014 22:38:08 +0000"></span><script type="text/javascript">WhenId('CH_zTm8e95d22b63');</script><noscript>Sep 29, 2014 at 10:38pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/igor1985/default.htm"><b>igor1985</b> (19)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i757686">
You are allowed to inc/dec memory directly, but its not recommended. in a register is done faster. but it adds extra bytes to the code.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn757686"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg757749"><span title="757749,11103,1023,4148,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg757749" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm94a1a5af1e" title="Tue, 30 Sep 2014 03:34:24 +0000"></span><script type="text/javascript">WhenId('CH_zTm94a1a5af1e');</script><noscript>Sep 30, 2014 at 3:34am UTC</noscript></div>
<div class="dwho"><a href="../../../user/zhuge/default.htm"><b>Zhuge</b> (4148)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i757749">
I'm dubious that incrementing a memory location directly works as written; all hardware I have ever seen does not work that way. Have you actually tried writing assembly that does that and seeing if the machine code that is actually executed doesn't touch the registers?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn757749"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(143517,1,76935,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','../../thread.cgi','../../post.cgi','../../myposts.cgi.htm',64,32,512,256,1024,16);</script></div>
</div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="../../../default.htm">C++</a></b></h3>
<ul>
<li class="folder info"><a href="../../../info/default.htm">Information</a></li>
<li class="folder doc"><a href="../../../doc/default.htm">Tutorials</a></li>
<li class="folder reference"><a href="../../../reference/default.htm">Reference</a></li>
<li class="folder articles"><a href="../../../articles/default.htm">Articles</a></li>
<li class="folder selected forum"><a href="../../default.htm">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="../../default.htm">Forum</a></b></h3>
<ul>
<li><a href="../../beginner/default.htm"><b>Beginners</b></a></li><li class="selected"><a href="../default.htm"><b>Windows Programming</b></a></li><li><a href="../../unices/default.htm"><b>UNIX/Linux Programming</b></a></li><li><a href="../../general/default.htm"><b>General C++ Programming</b></a></li><li><a href="../../lounge/default.htm"><b>Lounge</b></a></li><li><a href="../../jobs/default.htm"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="../../../default.htm">Home page</a> | <a href="../../../privacy.do.htm">Privacy policy</a><br>&copy; cplusplus.com, 2000-2014 - All rights reserved - <i>v3.1</i><br><a href="../../../contact.doreferrerwww.cplusplus~542.com_">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="../../../user/default.htm">'+us.user+'</a></b></h3><ul><li><a href="../../myposts.cgi.htm">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? '../../../../httpsssl/default.htm' : '../../../../www/default.htm') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>