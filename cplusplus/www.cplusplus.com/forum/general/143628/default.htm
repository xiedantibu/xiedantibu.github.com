<!DOCTYPE html><!-- saved from url=(0057)http://www.cplusplus.com/forum/general/143628/default.htm --><meta http-equiv="X-UA-Compatible" content="IE=Edge" />

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Problem with using nested loop with file - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico">
<link rel="stylesheet" type="text/css" href="../../../v321/main.css">
<script src="../../../v321/main.js" type="text/javascript"></script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="../../../default.htm" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="../../default.htm">Forum</a></li>
<li><a href="../default.htm">General C++ Programming</a></li>
<li class="here">Problem with using nested loop with file</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support"><script type="text/javascript"><!--
if (!cookieGet("hspt31")) {
  document.write('<div class="C_DonateBox"></div>');
}
//-->
</script><div class="C_ad728"><script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7973859818";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div><div class="C_supportbottom"></div></div><div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> Problem with using nested loop with file I/O</h3><span id="CH_edttl"></span><span class="rootdatPost" title="143628,root,0,-1,2,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg757728"><span title="757728,152944,255,1,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg757728" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm2be6d4940e" title="Tue, 30 Sep 2014 01:47:08 +0000"></span><script type="text/javascript">WhenId('CH_zTm2be6d4940e');</script><noscript>Sep 30, 2014 at 1:47am UTC</noscript></div>
<div class="dwho"><a href="../../../user/mainoon95/default.htm"><b>mainoon95</b> (1)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i757728">
Hey guys,<br>
<br>
<br>
I have problem using the nested loop with file I/O. Every time I debug the program, the name of the student in the output file doubled. I used txt for the output and input for the data<br>
<br>
This is the work description<br>
________________________________________<br>
Write a C++ program to calculate the course grade based on the following criteria: <br>
<br>
• Lab	exercises (10 labs): 20%	<br>
• Homework (8 sets): 10%	<br>
• Midterm: 30%	<br>
• Final	Exam: 40%	<br>
Grade letter assignment:<br>
90%	‐	100%		 A		<br>
85%	‐	90%		 A‐	<br>
80%	‐	85%		 B+	<br>
75%	‐	80%		 B	<br>
70%	‐	75%		 B‐	<br>
65%	‐	70%		 C+	<br>
60%	‐	65%		 C	<br>
55%	‐	60%		 C‐	<br>
50%	‐	55%		 D+	<br>
45%	‐	50%		 D	<br>
40%	‐	45%		 D‐	<br>
0%	‐	40%		 F	<br>
<br>
Program should read an input file to get lab grades, homework grades, midterm exam grade, and final exam grade. The program should calculate the final course grade based on the above criteria. The format of the data in the input file is as follows: <br>
Firstname Lastname lab1 lab2 lab3 lab4 lab5 lab6 lab7 lab8 lab9 lab10 hw1, hw2 hw3 hw4 hw5 hw6 hw7 hw8 midterm final <br>
There are 30 students in the class and each line in the input file has the information for one student. All the information are separated by a SPACE character. The program should output a file with the following information: student name (firstname and lastname), final grade and final letter grade on each line. At the end of the file, average grade for lab experiments and average grade for the homework sets should be printed.<br>
<br>
<br>
_________________________________________ <br>
<br>
This is my work<br>
_________________________________________<br>
#include &lt;iostream&gt;<br>
#include &lt;fstream&gt;<br>
#include &lt;string&gt;<br>
using namespace std;<br>
<br>
int main()<br>
{ <br>
	int count;<br>
	int LabExercises;<br>
	string firstname, lastname;<br>
	int lab1;<br>
	int lab2;<br>
	int lab3;<br>
	int lab4;<br>
	int lab5;<br>
	int lab6;<br>
	int lab7;<br>
	int lab8;<br>
	int lab9;<br>
	int lab10;<br>
	int AverageLabGrade;<br>
	int Homework;<br>
	int homework1;<br>
	int homework2;<br>
	int homework3;<br>
	int homework4;<br>
	int homework5;<br>
	int homework6;<br>
	int homework7;<br>
	int homework8;<br>
	int AverageHomeworkGrade;<br>
	int Midterm;<br>
	int Final;<br>
	int Total;<br>
	ifstream intfile;<br>
	ofstream outfile;<br>
<br>
<br>
	intfile.open("inputfile.txt");<br>
	outfile.open("outfile.txt");<br>
     if (!intfile) // Opening failed<br>
	 {<br>
	cout &lt;&lt; "Unable to open" &lt;&lt; endl;<br>
<br>
      return 1;<br>
	 }<br>
	 <br>
	<br>
	 intfile &gt;&gt; firstname &gt;&gt; lastname &gt;&gt; lab1 &gt;&gt; lab2 &gt;&gt; lab3 &gt;&gt; lab4 &gt;&gt; lab5 &gt;&gt; lab6 &gt;&gt; lab7 &gt;&gt; lab8 &gt;&gt; lab9 &gt;&gt; lab10 &gt;&gt; homework1 &gt;&gt; homework2 &gt;&gt; homework3 &gt;&gt; homework4 &gt;&gt; homework5 &gt;&gt; homework6 &gt;&gt; homework7 &gt;&gt; homework8 &gt;&gt; Midterm &gt;&gt; Final;<br>
	 while (intfile)<br>
	 {<br>
		count=0;<br>
		while (count &lt; 20)<br>
		{<br>
<br>
		outfile &lt;&lt; firstname &lt;&lt; lastname &lt;&lt; endl;<br>
<br>
<br>
		intfile &gt;&gt; firstname &gt;&gt; lastname &gt;&gt; lab1 &gt;&gt; lab2 &gt;&gt; lab3 &gt;&gt; lab4 &gt;&gt; lab5 &gt;&gt; lab6 &gt;&gt; lab7 &gt;&gt; lab8 &gt;&gt; lab9 &gt;&gt; lab10 &gt;&gt; homework1 &gt;&gt; homework2 &gt;&gt; homework3 &gt;&gt; homework4 &gt;&gt; homework5 &gt;&gt; homework6 &gt;&gt; homework7 &gt;&gt; homework8 &gt;&gt; Midterm &gt;&gt; Final;<br>
		count++;<br>
	<br>
<br>
				 //Print Average Grade<br>
		AverageLabGrade=((lab1+lab2+lab3+lab4+lab5+lab6+lab7+lab8+lab9+lab10)/10)*0.2;<br>
<br>
	outfile &lt;&lt; "Average Lab Grade is: " &lt;&lt; AverageLabGrade &lt;&lt; endl;<br>
	<br>
	//Print Homework grade<br>
	<br>
	AverageHomeworkGrade=((homework1+homework2+homework3+homework4+homework5+homework6+homework7+homework8)/8)*0.1;<br>
<br>
	outfile &lt;&lt; "Average Homework Grade is: " &lt;&lt; AverageHomeworkGrade &lt;&lt; endl;<br>
<br>
	//Print Midterm grade<br>
	<br>
	Midterm=Midterm*0.3;<br>
	outfile &lt;&lt; "Midterm Grade is: " &lt;&lt; Midterm &lt;&lt; endl;<br>
<br>
	//Print Final grade<br>
	<br>
	Final=Final*0.4;<br>
	outfile &lt;&lt; "Final Exam Grade is: " &lt;&lt; Final &lt;&lt; endl;<br>
	<br>
	//Print Total<br>
	Total=(AverageLabGrade+AverageHomeworkGrade+Midterm+Final);<br>
<br>
	outfile &lt;&lt; "Final Course Grade is: " &lt;&lt; Total &lt;&lt; endl;<br>
<br>
		if (Total &gt;= 90)<br>
		outfile &lt;&lt; "You Got A " &lt;&lt; endl;<br>
		else if (Total &gt;= 85 &amp;&amp; Total &lt;= 90)<br>
		outfile &lt;&lt; " You Got A- " &lt;&lt; endl;<br>
		else if (Total &gt;= 80 &amp;&amp; Total &lt;= 85)<br>
		outfile &lt;&lt; " You Got B+" &lt;&lt; endl;<br>
		else if (Total &gt;= 75 &amp;&amp; Total &lt;= 80)<br>
		outfile &lt;&lt; " You Got B " &lt;&lt; endl;<br>
		else if (Total &gt;= 70 &amp;&amp; Total &lt;= 75)<br>
		outfile &lt;&lt; " You Got B-" &lt;&lt; endl;<br>
		else if (Total &gt;= 65 &amp;&amp; Total &lt;= 70)<br>
		outfile &lt;&lt; " You Got C+ " &lt;&lt; endl;<br>
		else if (Total &gt;= 60 &amp;&amp; Total &lt;= 65)<br>
		outfile &lt;&lt; " You Got C" &lt;&lt; endl;<br>
		else if (Total &gt;= 55 &amp;&amp; Total &lt;= 60)<br>
		outfile &lt;&lt; " You Got C- " &lt;&lt; endl;<br>
		else if (Total &gt;= 50 &amp;&amp; Total &lt;= 55)<br>
		outfile &lt;&lt; " You Got D+" &lt;&lt; endl;<br>
		else if (Total &gt;= 45 &amp;&amp; Total &lt;= 50)<br>
		outfile &lt;&lt; " You Got D " &lt;&lt; endl;<br>
		else if (Total &gt;= 40 &amp;&amp; Total &lt;= 45)<br>
		outfile &lt;&lt; " You Got D-" &lt;&lt; endl;<br>
		else if (Total &gt;= 0 &amp;&amp; Total &lt;= 40)<br>
		outfile &lt;&lt; " You Got F" &lt;&lt; endl;<br>
		<br>
		}<br>
		<br>
		intfile &gt;&gt; firstname &gt;&gt; lastname &gt;&gt; lab1 &gt;&gt; lab2 &gt;&gt; lab3 &gt;&gt; lab4 &gt;&gt; lab5 &gt;&gt; lab6 &gt;&gt; lab7 &gt;&gt; lab8 &gt;&gt; lab9 &gt;&gt; lab10 &gt;&gt; homework1 &gt;&gt; homework2 &gt;&gt; homework3 &gt;&gt; homework4 &gt;&gt; homework5 &gt;&gt; homework6 &gt;&gt; homework7 &gt;&gt; homework8 &gt;&gt; Midterm &gt;&gt; Final;<br>
<br>
		<br>
	 }<br>
<br>
<br>
			<br>
		<br>
	return 0;<br>
}<br>
_____________________<br>
<br>
<br>
If anyone know where is the error/s, please help<br>
<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn757728"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg757840"><span title="757840,97037,1023,816,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg757840" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm6f47645fe0" title="Tue, 30 Sep 2014 12:18:38 +0000"></span><script type="text/javascript">WhenId('CH_zTm6f47645fe0');</script><noscript>Sep 30, 2014 at 12:18pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/jlb/default.htm"><b>jlb</b> (816)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i757840">
It looks like it's possible you're reading the file too many times, but because of the lack of formatting it's extremely hard to read your code. Try placing your code into code tags.<br>
<br>
Also have you studied std::vector or arrays and structures? This program is really screaming for the use of a structure containing a couple of arrays to hold the data from the file. And some functions wouldn't be a bad idea either. <br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn757840"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(143628,1,152944,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','../../thread.cgi','../../post.cgi','../../myposts.cgi.htm',64,32,512,256,1024,16);</script></div>
</div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="../../../default.htm">C++</a></b></h3>
<ul>
<li class="folder info"><a href="../../../info/default.htm">Information</a></li>
<li class="folder doc"><a href="../../../doc/default.htm">Tutorials</a></li>
<li class="folder reference"><a href="../../../reference/default.htm">Reference</a></li>
<li class="folder articles"><a href="../../../articles/default.htm">Articles</a></li>
<li class="folder selected forum"><a href="../../default.htm">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="../../default.htm">Forum</a></b></h3>
<ul>
<li><a href="../../beginner/default.htm"><b>Beginners</b></a></li><li><a href="../../windows/default.htm"><b>Windows Programming</b></a></li><li><a href="../../unices/default.htm"><b>UNIX/Linux Programming</b></a></li><li class="selected"><a href="../default.htm"><b>General C++ Programming</b></a></li><li><a href="../../lounge/default.htm"><b>Lounge</b></a></li><li><a href="../../jobs/default.htm"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="../../../default.htm">Home page</a> | <a href="../../../privacy.do.htm">Privacy policy</a><br>&copy; cplusplus.com, 2000-2014 - All rights reserved - <i>v3.1</i><br><a href="../../../contact.doreferrerwww.cplusplus~412.com_">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="../../../user/default.htm">'+us.user+'</a></b></h3><ul><li><a href="../../myposts.cgi.htm">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? '../../../../httpsssl/default.htm' : '../../../../www/default.htm') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>