<!DOCTYPE html><!-- saved from url=(0057)http://www.cplusplus.com/forum/general/128659/default.htm --><meta http-equiv="X-UA-Compatible" content="IE=Edge" />

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>how memory leak..... - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico">
<link rel="stylesheet" type="text/css" href="../../../v321/main.css">
<script src="../../../v321/main.js" type="text/javascript"></script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="../../../default.htm" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="../../default.htm">Forum</a></li>
<li><a href="../default.htm">General C++ Programming</a></li>
<li class="here">how memory leak.....</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support"><script type="text/javascript"><!--
if (!cookieGet("hspt31")) {
  document.write('<div class="C_DonateBox"></div>');
}
//-->
</script><div class="C_ad728"><script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7973859818";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div><div class="C_supportbottom"></div></div><div id="I_content">
<h3><div class="C_ico solved" title="solved">&nbsp;</div> how memory leak.....</h3><span id="CH_edttl"></span><span class="rootdatPost" title="128659,root,0,-1,7,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg695190"><span title="695190,122049,1023,41,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg695190" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm33548d8856" title="Wed, 09 Apr 2014 16:47:28 +0000"></span><script type="text/javascript">WhenId('CH_zTm33548d8856');</script><noscript>Apr 9, 2014 at 4:47pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/americanxo/default.htm"><b>americanxo</b> (41)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i695190">
is there a way to delete a memory leak ?<br>
like when the pointer is no longer pointing to that memory address, and that allocated memory is not accessible, how can i delete that ?<br>
<br>
sample:<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br></code></pre></td>
<td class="source"><pre><code><var>int</var> *p = <var>new</var> <var>int</var>;
*p = 5;
<cite>//if i dont't delete p here, is that a way to deallocate the dynamically allocated variable above ? </cite>
p = <var>new</var> <var>int</var>; <cite>//since p is no longer pointing to 5, and there's no way of accessing it</cite>
*p = 10
<var>delete</var> p; <cite>//i know this only deallocates the memory address which holds 10, not the one before </cite></code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn695190"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg695197"><span title="695197,72446,1023,5917,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg695197" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm91407b8ff2" title="Wed, 09 Apr 2014 17:03:29 +0000"></span><script type="text/javascript">WhenId('CH_zTm91407b8ff2');</script><noscript>Apr 9, 2014 at 5:03pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/peter87/default.htm"><b>Peter87</b> (5917)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i695197">
It's not possible.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn695197"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg695207"><span title="695207,74370,1023,30,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg695207" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm11f6ac1e54" title="Wed, 09 Apr 2014 17:18:50 +0000"></span><script type="text/javascript">WhenId('CH_zTm11f6ac1e54');</script><noscript>Apr 9, 2014 at 5:18pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/armstrhu/default.htm"><b>armstrhu</b> (30)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i695207">
just delete p before you reallocate new memory space.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br></code></pre></td>
<td class="source"><pre><code><var>int</var> *p = <var>new</var> <var>int</var>;
*p = 5;
<var>delete</var> p;
p = <var>new</var> <var>int</var>;
*p = 10
<var>delete</var> p;</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn695207"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg695240"><span title="695240,11526,1023,1169,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg695240" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm8f953cdf23" title="Wed, 09 Apr 2014 18:03:07 +0000"></span><script type="text/javascript">WhenId('CH_zTm8f953cdf23');</script><noscript>Apr 9, 2014 at 6:03pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/kempofighter/default.htm"><b>kempofighter</b> (1169)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i695240">
When you detect them, it is a bug in your program.  That is why it is called a memory leak, and why so many tools have been developed to find them so that they can be fixed.  You need to stop the program, fix the leak, and rebuild the program.  Then try again until there are no more leaks.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn695240"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg695264"><span title="695264,38387,1023,10731,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg695264" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmcbee5b7d55" title="Wed, 09 Apr 2014 19:12:04 +0000"></span><script type="text/javascript">WhenId('CH_zTmcbee5b7d55');</script><noscript>Apr 9, 2014 at 7:12pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/lb/default.htm"><b>LB</b> (10731)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i695264">
<i>Or</i>, you could avoid using <tt>new</tt> and <tt>delete</tt> altogether, and use standard containers and standard smart pointer wrapper classes instead.<br>
<br>
If you write <tt>new</tt> in your code, it means it is possible to forget to write <tt>delete</tt>. Always try to remove that possibility by not writing <tt>new</tt> in the first place.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn695264"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg695447"><span title="695447,122049,1023,41,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg695447" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmc42311cff3" title="Thu, 10 Apr 2014 02:55:31 +0000"></span><script type="text/javascript">WhenId('CH_zTmc42311cff3');</script><noscript>Apr 10, 2014 at 2:55am UTC</noscript></div>
<div class="dwho"><a href="../../../user/americanxo/default.htm"><b>americanxo</b> (41)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i695447">
hmm...so i guess there's no way of deallocating them, anyway, was just wondering if there's a way of doing it, so i wont have to manually put delete it each time.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn695447"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg695450"><span title="695450,38387,1023,10731,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg695450" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmd7e6357ccd" title="Thu, 10 Apr 2014 03:00:54 +0000"></span><script type="text/javascript">WhenId('CH_zTmd7e6357ccd');</script><noscript>Apr 10, 2014 at 3:00am UTC</noscript></div>
<div class="dwho"><a href="../../../user/lb/default.htm"><b>LB</b> (10731)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i695450">
There is: don't use <tt>new</tt> in the first place.<br>
<br>
<a href="../../../reference/memory/unique_ptr/default.htm">http://www.cplusplus.com/reference/memory/unique_ptr/</a><br>
<a href="../../../reference/memory/shared_ptr/default.htm">http://www.cplusplus.com/reference/memory/shared_ptr/</a>
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn695450"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Topic archived. No new replies allowed.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(128659,1,122049,1,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','../../thread.cgi','../../post.cgi','../../myposts.cgi.htm',64,32,512,256,1024,16);</script></div>
</div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="../../../default.htm">C++</a></b></h3>
<ul>
<li class="folder info"><a href="../../../info/default.htm">Information</a></li>
<li class="folder doc"><a href="../../../doc/default.htm">Tutorials</a></li>
<li class="folder reference"><a href="../../../reference/default.htm">Reference</a></li>
<li class="folder articles"><a href="../../../articles/default.htm">Articles</a></li>
<li class="folder selected forum"><a href="../../default.htm">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="../../default.htm">Forum</a></b></h3>
<ul>
<li><a href="../../beginner/default.htm"><b>Beginners</b></a></li><li><a href="../../windows/default.htm"><b>Windows Programming</b></a></li><li><a href="../../unices/default.htm"><b>UNIX/Linux Programming</b></a></li><li class="selected"><a href="../default.htm"><b>General C++ Programming</b></a></li><li><a href="../../lounge/default.htm"><b>Lounge</b></a></li><li><a href="../../jobs/default.htm"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="../../../default.htm">Home page</a> | <a href="../../../privacy.do.htm">Privacy policy</a><br>&copy; cplusplus.com, 2000-2014 - All rights reserved - <i>v3.1</i><br><a href="../../../contact.doreferrerwww.cplusplus~350.com_">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="../../../user/default.htm">'+us.user+'</a></b></h3><ul><li><a href="../../myposts.cgi.htm">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? '../../../../httpsssl/default.htm' : '../../../../www/default.htm') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>