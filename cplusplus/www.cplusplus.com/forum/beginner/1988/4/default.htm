<!DOCTYPE html><!-- saved from url=(0058)http://www.cplusplus.com/forum/beginner/1988/4/default.htm --><meta http-equiv="X-UA-Compatible" content="IE=Edge" />

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Console Closing Down - C++ Forum (Page 4)</title>
<link rel="shortcut icon" type="image/x-icon" href="../../../../favicon.ico">
<link rel="stylesheet" type="text/css" href="../../../../v321/main.css">
<script src="../../../../v321/main.js" type="text/javascript"></script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="../../../../default.htm" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="../../../default.htm">Forum</a></li>
<li><a href="../../default.htm">Beginners</a></li>
<li><a href="../default.htm">Console Closing Down</a></li>
<li class="here">Page 4</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support"><script type="text/javascript"><!--
if (!cookieGet("hspt31")) {
  document.write('<div class="C_DonateBox"></div>');
}
//-->
</script><div class="C_ad728"><script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7973859818";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<acript type="text/javascript"
src="../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div><div class="C_supportbottom"></div></div><div id="I_content">
<h3><div class="C_ico question" title="question">&nbsp;</div> Console Closing Down</h3><span id="CH_edttl"></span><div class="C_pages">Pages: <a href="../default.htm">1</a><a href="../2/default.htm">2</a><a href="../3/default.htm">3</a><span title="Current page">4</span><a href="../5/default.htm">5</a><a href="../6/default.htm">6</a><a href="../7/default.htm">7</a></div><span class="rootdatPost" title="1988,root,0,-1,121,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg14423"><span title="14423,9110,5119,8826,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg14423" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTme12d25ded0" title="Sat, 09 Aug 2008 21:35:20 +0000"></span><script type="text/javascript">WhenId('CH_zTme12d25ded0');</script><noscript>Aug 9, 2008 at 9:35pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/duoas/default.htm"><b>Duoas</b> (8826)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i14423">
There are two basic types of console application:<br>
<br>
<b><u>streams application</u></b><br>
This is the default C/Unix style application. There is an unspecified (read: variable source) input stream of characters, and an unspecified output stream of characters. The only thing you know about these streams are that you can read and write characters to them. C and C++ are designed around this philosophy.<br>
<br>
Streams applications are very powerful because they can be automated, or their output can be redirected to another program or to file, or their input can be generated by another program, etc. This flexibility was such a stroke of genius that it is considered one of the early revolutionary concepts that made Unix so popular, and was copied by almost every subsequent OS, and that enabled development of common 'modern' technologies like the internet and email.<br>
<br>
To reiterate, the power of these applications are that it gives the user <i>choices</i>. It is not bound to any particular hardware or I/O device.<br>
<br>
<b><u>text user interface application</u></b><br>
Unlike a streams application, a TUI (or more commonly, CUI) application expects a priori knowledge of the user's I/O devices. Generally speaking (since it is still possible to automate these programs using special software), CUI applications expect a human to be sitting at a terminal with at minimum a keyboard and a CRT.<br>
<br>
The operative words here are "user interface". The "user" is expected to be a human. And, much like a <i>Graphical</i> User Interface, a CUI provides an interactive, visually-organized presentation of data and input.<br>
<br>
The powerful feature of these applications is the convenience afforded the user when dealing with complex data. Early examples include <b>vi</b> and <b>emacs</b>, which display an entire screen of text at a time and permit the user to use arrow keys and mouse input to manipulate the file --whereas stream text editors like <b>sed</b>, while powerful, are considerably less convenient when revising a letter to your local congressman or your latest source code fixes.<br>
<br>
The downside is the same as the upside: these applications have to know something special about your hardware. On DOS and Windows systems hardware is pretty standard, so it is not usually considered a problem. But on other PCs, Minis, Mainframes, and even supercomputers, hardware can vary widely. The development of the <b>termcap</b> (terminal capabilities) database, and later the <b>terminfo</b> database and <b>ncurses</b> libraries have mitigated some of these problems, but they are not a panacea.<br>
<br>
In short, CUI applications are typically much more complex when dealing with I/O, and are less portable because of their dependance on specific hardware.<br>
<br>
<b><u>choice of platform</u></b><br>
So, the ultimate question is: what kind of application am I writing? Streams or CUI? It is not typically a trivial task to say "both"; you must decide on one or the other.<br>
<br>
For most homework assignments, or programs that calculate or analyze information or filter/modify data, a streams application is more appropriate. Examples include <b>grep</b>, <b>awk</b>, <b>cc</b> and <b>c++</b>, <b>dir</b> and <b>ld</b>, <b>diff</b> and <b>patch</b>, <b>tee</b>, <b>tar</b> and <b>zip</b> and <b>compress</b>, etc.<br>
<br>
And, "hello world!".<br>
<br>
For interactive games, text editors, web browsers, etc. a human is typically an essential part of the equation, and thus a CUI is most apropos.<br>
<br>
So, to answer the question: which do you want?<br>
<br>
In the case of a Tic-Tac-Toe game, either method is appropriate, depending on how you intend to interact with the user. If you want to clear the screen, go for it. Just do it safely. (In other words, do it Grey Wolf's way if you are on Windows, or use the terminfo database on *nix systems.) If anyone needs an example for Linux, let me know and I'll post one.<br>
<br>
But if all the special stuff you want is to clear the screen, the desired effect can be accomplished much more simply by just printing 60 to 100 newlines.<br>
<tt>  </tt><span class="auto"><code class="source">cout &lt;&lt; string( 100, <kbd>'\n'</kbd> );</code></span><br>
<br>
Hope this helps.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn14423"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg14483"><span title="14483,13562,1023,55,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg14483" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm12b26ea810" title="Sun, 10 Aug 2008 04:33:07 +0000"></span><script type="text/javascript">WhenId('CH_zTm12b26ea810');</script><noscript>Aug 10, 2008 at 4:33am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/kacko/default.htm"><b>kacko</b> (55)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i14483">
Duoas,<br>
<br>
Your wealth of knowledge brings such excitement to learning.  I ask simply what should i do and you go above and beyond the call of duty, and I thank you for that.<br>
<br>
I am indeed on a Linux system (Ubuntu Hardy Heron v8.04), and would greatly appreciate an example.  I dont think the <br>
<span class="auto"><code class="source">cout &lt;&lt; string(100, <kbd>'\n'</kbd>);</code></span><br>
<br>
would work, it seems to elementary, and really not what i want.  I do see and agree with your point of doing it safely, thought the point of writing this program is to get me back into writing code (It's been a while since I took a Java class, 4 years I think) but writing code safely and to industry standards will come as I learn more.<br>
<br>
My  goal would never be to release the code for general use, thought it would be cool if someone that has done this for a while could look at it, and tell me where I could make improvements, or where potential bugs are, I don't know if anyone would ever do that, and if anyone would like to, let me know.<br>
<br>
Thanks for all your help!<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn14483"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg14501"><span title="14501,13171,1023,11788,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg14501" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm1f8b4190b5" title="Sun, 10 Aug 2008 08:32:36 +0000"></span><script type="text/javascript">WhenId('CH_zTm1f8b4190b5');</script><noscript>Aug 10, 2008 at 8:32am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/helios/default.htm"><b>helios</b> (11788)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i14501">
I wanted to make a short comment about how, in a certain instance, using string( 100,'\n') is as stupid, if not more, than system():<br>
When using a virtual machine, each newline in the console is like watching baby seals being clubbed.<br>
That's all. Thank you for your time.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn14501"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg14503"><span title="14503,13562,1023,55,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg14503" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmf8ee5e0167" title="Sun, 10 Aug 2008 13:35:26 +0000"></span><script type="text/javascript">WhenId('CH_zTmf8ee5e0167');</script><noscript>Aug 10, 2008 at 1:35pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/kacko/default.htm"><b>kacko</b> (55)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i14503">
Always something positive to add Helios!<br>
<br>
:-)
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn14503"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg14522"><span title="14522,9110,5119,8826,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg14522" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm63bb159165" title="Sun, 10 Aug 2008 17:09:55 +0000"></span><script type="text/javascript">WhenId('CH_zTm63bb159165');</script><noscript>Aug 10, 2008 at 5:09pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/duoas/default.htm"><b>Duoas</b> (8826)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i14522">
<b><u>clear the screen</u></b><br>
It is actually fairly simple, but you need the terminfo/curses library.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;unistd.h&gt;</dfn>
<dfn>#include &lt;term.h&gt;</dfn>

<var>void</var> clearscreen()
  {
  <var>if</var> (!cur_term)
    {
    <var>int</var> success;
    setupterm( NULL, STDOUT_FILENO, &amp;success );
    <var>if</var> (success &lt;= 0) <var>return</var>;
    }
  putp( tigetstr( <kbd>"clear"</kbd> ) );
  }</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
To compile, you'll have to link with one of the following libraries (whichever you have).<br>
<tt>  -lterminfo</tt>
<tt>  -lcurses</tt>
<tt>  -lncurses</tt><br>
For example on Debian systems (I use Kubuntu), I have to link with the second. On Solaris you need to link with the third.<br>
<br>
<b><u>Pause</u></b><br>
Here's a bonus for you all: How to do it in Linux. (This is the "raw input" method instead of the "select" method, so it is a little longer --but it doesn't leave the key pressed unread in the input buffer.)<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br>44<br>45<br>46<br>47<br>48<br>49<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;unistd.h&gt;</dfn>
<dfn>#include &lt;termios.h&gt;</dfn>

<cite>// All commentary stripped out for size.</cite>
<cite>// See &lt;<a href="../../../../../www.lafn.org/~dave/linux/terminalio.htmlgt">http://www.lafn.org/~dave/linux/terminalIO.html&gt;</a> for details.</cite>

<var>void</var> raw( <var>bool</var> b )
  {
  <var>struct</var> termios settings;
  <var>static</var> <var>struct</var> termios initial_settings;
  <var>static</var> <var>bool</var> is_initialized = <var>false</var>;

  <var>if</var> (!is_initialized)
    {
    is_initialized = tcgetattr( STDIN_FILENO, &amp;initial_settings ) == 0;
    <var>if</var> (!is_initialized) <var>return</var>;
    }

  <var>if</var> (b)
    {
    tcgetattr( STDIN_FILENO, &amp;settings );
    settings.c_cc[ VTIME ] = 0;
    settings.c_cc[ VMIN  ] = 1;
    settings.c_iflag &amp;= ~(BRKINT | ICRNL | INLCR | ISTRIP | IXOFF);
    settings.c_iflag |=   IGNBRK;
    settings.c_oflag &amp;= ~(OPOST);
    settings.c_cflag &amp;= ~(CSIZE | PARENB);
    settings.c_cflag |=   CS8;
    settings.c_lflag &amp;= ~(ECHO | ICANON | IEXTEN | ISIG);
    }
  <var>else</var>
    settings = initial_settings;

  tcsetattr( STDIN_FILENO, TCSANOW, &amp;settings );
  }

<var>int</var> pressanykey( <var>const</var> string&amp; prompt = string() )
  {
  <var>struct</var> termios settings;

  tcgetattr( STDIN_FILENO, &amp;settings );
  raw( <var>true</var> );

  printf( <kbd>"%s"</kbd>, prompt.empty() ? <kbd>"Press any key to continue..."</kbd> : prompt.c_str() );
  <var>int</var> result = getchar();

  tcsetattr( STDIN_FILENO, TCSANOW, &amp;settings );
  <var>return</var> result;
  }</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
I don't think I've typo-ed anything in there.<br>
Sooner or later I've got to put all this stuff together into a console howto tutorial or article.<br>
<br>
Enjoy!<br>
<br>
[edit] Oh, before I forget. Assumed in all the above is that you have verified that you are dealing with a console and not some other redirected stream using the <b>isatty</b>() function. It is almost always found in &lt;unistd.h&gt;. (If it isn't, your system is messed up --IMHO.)
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmce25203cee" title="Sun, 10 Aug 2008 17:11:58 +0000"></span><script type="text/javascript">WhenId('CH_zTmce25203cee');</script><noscript>Aug 10, 2008 at 5:11pm UTC</noscript></span>
<span class="dbtn" id="CH_btn14522"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg14576"><span title="14576,13562,1023,55,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg14576" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmba28d2c785" title="Sun, 10 Aug 2008 22:20:23 +0000"></span><script type="text/javascript">WhenId('CH_zTmba28d2c785');</script><noscript>Aug 10, 2008 at 10:20pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/kacko/default.htm"><b>kacko</b> (55)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i14576">
The pause on is way beyond me!!
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn14576"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg15832"><span title="15832,13819,1023,7,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg15832" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTme212a12660" title="Fri, 22 Aug 2008 02:57:48 +0000"></span><script type="text/javascript">WhenId('CH_zTme212a12660');</script><noscript>Aug 22, 2008 at 2:57am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/grecoman/default.htm"><b>grecoman</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i15832">
well you can do this:<br>
<br>
#include&lt;iostream&gt;<br>
#include&lt;cstdlib&gt;<br>
<br>
using std::cout;<br>
<br>
int main()<br>
{<br>
 <br>
cout&lt;&lt;"HELLO WORLD\n";<br>
system("pause");<br>
return 0;<br>
}
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn15832"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg15837"><span title="15837,9110,5119,8826,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg15837" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm1db65f0d92" title="Fri, 22 Aug 2008 03:37:24 +0000"></span><script type="text/javascript">WhenId('CH_zTm1db65f0d92');</script><noscript>Aug 22, 2008 at 3:37am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/duoas/default.htm"><b>Duoas</b> (8826)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i15837">
Did you read the thread?
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn15837"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg15877"><span title="15877,12953,1023,22,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg15877" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm12ec2e4746" title="Fri, 22 Aug 2008 12:30:16 +0000"></span><script type="text/javascript">WhenId('CH_zTm12ec2e4746');</script><noscript>Aug 22, 2008 at 12:30pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/tyler/default.htm"><b>tyler</b> (22)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i15877">
I'm sure not. ;)
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn15877"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg16154"><span title="16154,13562,1023,55,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg16154" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm050aa989f7" title="Mon, 25 Aug 2008 18:08:57 +0000"></span><script type="text/javascript">WhenId('CH_zTm050aa989f7');</script><noscript>Aug 25, 2008 at 6:08pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/kacko/default.htm"><b>kacko</b> (55)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i16154">
tyler,<br>
<br>
First reading the thread will help you to better add to the conversation.  As Duoas has said before, system("pause") is bad practice, view his prior posts to see why.<br>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn16154"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17172"><span title="17172,14279,255,2,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17172" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm8ddf56dc41" title="Fri, 05 Sep 2008 05:48:56 +0000"></span><script type="text/javascript">WhenId('CH_zTm8ddf56dc41');</script><noscript>Sep 5, 2008 at 5:48am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/benak56/default.htm"><b>benak56</b> (2)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17172">
I'm having issues with the code to pause. I am VERY new (few hours) and am going through some online tutorials, all of which seem to look over this issue(in several compilers). I am using Dev C++ and even with the code my console closes right away.<br>
<br>
I've tried cin.get();<br>
cin.ignore();<br>
<br>
and the original solution but none work. Debugging doesn't show anything.<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br></code></pre></td>
<td class="source"><pre><code><cite>/*****************************
Program: Box Area
Purpose: Find the area of a box.
Date: 09/05/08
***************************/</cite>

<dfn>#include &lt;iostream&gt;</dfn>
<dfn>#include &lt;limits&gt;</dfn>
<var>using</var> <var>namespace</var> std;
<var>typedef</var> <var>unsigned</var> <var>short</var> Ushort;
<cite>//Function Prototype</cite>
Ushort FindArea (Ushort length, Ushort width);

<cite>//Get the dimentions from the User.</cite>
<var>int</var> main()
{
    
    Ushort length;
    Ushort width;
    Ushort area;
    
    cout &lt;&lt; <kbd>"\nHow long is your Box?"</kbd>;
    cin &gt;&gt; length;
    cout &lt;&lt; <kbd>"\nHow wide is your Box?"</kbd>;
    cin &gt;&gt; width;
    
    area = FindArea(length, width);
    
    cout &lt;&lt; <kbd>"\nYour yard is "</kbd> &lt;&lt; area &lt;&lt;<kbd>" square feet."</kbd>;
    
    cout &lt;&lt; <kbd>"Press ENTER to continue..."</kbd>;
    cin.ignore( std::numeric_limits&lt;std::streamsize&gt;::max(), <kbd>'\n'</kbd> );
    
    
    <var>return</var> 0;
    
}
<cite>//Function process when called.</cite>
Ushort FindArea (Ushort l, Ushort w)
{
       <var>return</var> l * w;
}
   </code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn17172"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17173"><span title="17173,13171,1023,11788,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17173" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmf3c0dff11d" title="Fri, 05 Sep 2008 05:59:17 +0000"></span><script type="text/javascript">WhenId('CH_zTmf3c0dff11d');</script><noscript>Sep 5, 2008 at 5:59am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/helios/default.htm"><b>helios</b> (11788)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17173">
ignore() before get()ing.<br>
<br>
I still don't understand why people don't just manually open a console.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn17173"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17174"><span title="17174,14279,255,2,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17174" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm75ecf87b15" title="Fri, 05 Sep 2008 06:02:41 +0000"></span><script type="text/javascript">WhenId('CH_zTm75ecf87b15');</script><noscript>Sep 5, 2008 at 6:02am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/benak56/default.htm"><b>benak56</b> (2)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17174">
System ("pause"); doesn't even work. Could it be an issue with my compiler?<br>
<br>
From all the solutions on this page thread, I think I would have found one that works. <br>
<br>
Edit: Bloodshed Software's download page says their latest version of Dev C++ is compatible up to XP. I am running Vista Home Premium; could this be  an issue?
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmaaac7b31ff" title="Fri, 05 Sep 2008 06:05:18 +0000"></span><script type="text/javascript">WhenId('CH_zTmaaac7b31ff');</script><noscript>Sep 5, 2008 at 6:05am UTC</noscript></span>
<span class="dbtn" id="CH_btn17174"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17198"><span title="17198,9110,5119,8826,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17198" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm19c95d495a" title="Fri, 05 Sep 2008 13:28:25 +0000"></span><script type="text/javascript">WhenId('CH_zTm19c95d495a');</script><noscript>Sep 5, 2008 at 1:28pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/duoas/default.htm"><b>Duoas</b> (8826)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17198">
No, the issue is how you have pre-loaded the input.<br>
<br>
A step-through will help:<br>
<br>
1. <span class="auto"><code class="source">cout &lt;&lt; <kbd>"Enter a number&gt; "</kbd>; cin &gt;&gt; number_one;</code></span><br>
2. The user types <table class="quote"><tr><td class="qd"><tt>37</tt></td></tr></table> and presses ENTER.<br>
3. That sequence of keypresses gets sent to the program as "<tt>37\n</tt>". (The ENTER key was translated into a newline character.)<br>
4. The <b>cin</b> statement skips all leading whitespace (there isn't any), reads "<tt>37</tt>", translates it into the number 37, and sticks that in the <b>number_one</b> variable.<br>
5. Notice that the "<tt>\n</tt>" is still waiting to be read by the program.<br>
<br>
6. <span class="auto"><code class="source">cout &lt;&lt; <kbd>"Enter another&gt; "</kbd>; cin &gt;&gt; number_two;</code></span><br>
7. Again, the user types something like <table class="quote"><tr><td class="qd"><tt>-2</tt></td></tr></table> and presses ENTER.<br>
8. That sequence gets sent to the program as "<tt>-2\n</tt>".<br>
<br>
9. At this point, the list of characters waiting to be read by the program is "<tt>\n-7\n</tt>".<br>
<br>
10. The <b>cin</b> statement skips all leading whitespace (reading and ignoring that first "<tt>\n</tt>", leaving "<tt>-7\n</tt>"), reads "<tt>-7</tt>", converts it into the number -7, and assigns that value to <b>number_two</b>.<br>
11. Notice how there is yet again a lone "<tt>\n</tt>" waiting to be read by the program.<br>
<br>
12. <span class="auto"><code class="source">cout &lt;&lt; <kbd>"Press ENTER to continue..."</kbd>; cin.ignore( ..., <kbd>'\n'</kbd> );</code></span><br>
13. The <b>cin</b> statement now ignores everything up-to and including the next "<tt>\n</tt>".<br>
<br>
14. But wait! There is a leftover "<tt>\n</tt>" sitting in the input buffer waiting to be read. So <b>cin</b> reads it (leaving "" in the input buffer), and the program terminates before the user can get his fingers to move.<br>
<br>
<br>
And there lies the caveat to using <span class="auto"><code class="source">cin &gt;&gt; anything</code></span> when dealing with the user. Remember:<br>
<br>
<tt>    </tt> <b>The <i>user</i> always expects to have to press ENTER after every input</b><br>
<br>
(in a streams application). Unless the program shows him otherwise by immediately responding to keypresses (in a CUI application).<br>
<br>
<br>
So, you have to be careful when getting input.<br>
<br>
<b>Method one</b><br>
Once you are done any sequence of "cin &gt;&gt;"s you should <b>cin</b>.<b>ignore</b>() that lone newline before continuing with the rest of the program. In your program, input occurrs on lines 22..25, so a good place to ignore() that unread newline is right after line 25.<br>
<br>
<b>Method two</b><br>
Don't "cin &gt;&gt;". Use <b>getline</b>() and <b>std::stringstream</b> instead. For example:<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>43<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;ciso646&gt;</dfn>
<dfn>#include &lt;sstream&gt;</dfn>
<dfn>#include &lt;string&gt;</dfn>

<var>template</var> &lt;<var>typename</var> ValueType&gt;
std::istream&amp; read( std::istream&amp; ins, ValueType&amp; value )
  {
  <var>using</var> <var>namespace</var> std;
  string s;
  getline( ins, s );
  <var>if</var> (ins.good())
    {
    stringstream ss( s );
    ss &gt;&gt; value;
    <var>if</var> (!ss.good())
      ins.setstate( ss.rdstate() );
    }
  <var>return</var> ins;
  }


<dfn>#include &lt;iostream&gt;</dfn>
<var>using</var> <var>namespace</var> std;
<var>int</var> main()
  {
  <var>float</var> f;
  integer i;

  cout &lt;&lt; <kbd>"Quiz!\nWhat is the average airspeed of an unladen European Swallow (in m/s)? "</kbd>;
  read( cin, f );
  <var>if</var> (!cin or (f &lt; 10.5) or (f &gt; 11.5))  <cite>// [1]</cite>
    cout &lt;&lt; <kbd>"Aiiiieeeee!\n"</kbd>;
  <var>else</var>
    {
    cout &lt;&lt; <kbd>"What is the day of the month today? "</kbd>;
    <var>if</var> (!read( cin, i ))
      cout &lt;&lt; <kbd>"Well at least guess...\n"</kbd>;
    <var>else</var>
      cout &lt;&lt; <kbd>"Close enough. :-)\n"</kbd>;
    }

  <var>return</var> 0;
  }</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
[1] <a href="../../../../../answers.yahoo.com/question/indexqid20070409040602aacduk6">http://answers.yahoo.com/question/index?qid=20070409040602AACDUk6</a><br>
<br>
Hope this helps. :-]
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn17198"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17218"><span title="17218,13171,1023,11788,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17218" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmbc8265345d" title="Fri, 05 Sep 2008 15:31:59 +0000"></span><script type="text/javascript">WhenId('CH_zTmbc8265345d');</script><noscript>Sep 5, 2008 at 3:31pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/helios/default.htm"><b>helios</b> (11788)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17218">
You have opened my eyes.<br>
There is something I don't understand, though. Why is there a '\n' in the buffer at the beginning of step 14? If the buffer was just "\n" before the ignore(), shouldn't it be "" after the ignore()?
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm018d2cbb02" title="Fri, 05 Sep 2008 15:32:29 +0000"></span><script type="text/javascript">WhenId('CH_zTm018d2cbb02');</script><noscript>Sep 5, 2008 at 3:32pm UTC</noscript></span>
<span class="dbtn" id="CH_btn17218"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17244"><span title="17244,9110,5119,8826,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17244" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm11f2f2dca0" title="Fri, 05 Sep 2008 17:57:50 +0000"></span><script type="text/javascript">WhenId('CH_zTm11f2f2dca0');</script><noscript>Sep 5, 2008 at 5:57pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/duoas/default.htm"><b>Duoas</b> (8826)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17244">
<table class="quote"><tr><td class="qd">Why is there a '\n' in the buffer at the <b><i>beginning</i></b> of step 14? [emphasis added]</td></tr></table><br>
The same reason there was one sitting there at the beginning of step 10: it hasn't yet been read (and discarded) by a "cin&gt;&gt;" or a "cin.ignore()".<br>
<br>
<table class="quote"><tr><td class="qd">If the buffer was just "\n" before the ignore(), shouldn't it be "" after the ignore()?</td></tr></table><br>
Exactly right. The problem is, the ignore() is reading the '\n' from the last time the user pressed ENTER. The program asked for the user to press ENTER again, but it forgot about that leftover '\n', and reads it instead of reading a new '\n' that the user hasn't had the chance to enter yet.<br>
<br>
[edit]<br>
Ideally, the input buffer should be "" <i>before</i> the program asks the user to "Press ENTER to continue...", so that the very next "\n" read is surely the one the user pressed <i>after</i> asking him to do it.<br>
[/edit]<br>
<br>
Clear as mud, right?  :-P
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm915691a30c" title="Fri, 05 Sep 2008 18:00:03 +0000"></span><script type="text/javascript">WhenId('CH_zTm915691a30c');</script><noscript>Sep 5, 2008 at 6:00pm UTC</noscript></span>
<span class="dbtn" id="CH_btn17244"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17248"><span title="17248,13171,1023,11788,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17248" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm2d5ce83643" title="Fri, 05 Sep 2008 18:49:09 +0000"></span><script type="text/javascript">WhenId('CH_zTm2d5ce83643');</script><noscript>Sep 5, 2008 at 6:49pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/helios/default.htm"><b>helios</b> (11788)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17248">
I'm sorry, but I think I'm not quite following you yet.<br>
<table class="quote"><tr><td class="qd">12. cout &lt;&lt; "Press ENTER to continue..."; <b>cin.ignore( ..., '\n' );</b><br>
13. The cin statement now ignores everything up-to and including the next "\n".</td></tr></table>Okay, so now, <b>in theory</b> the buffer should be empty, right? Since there was only one '\n' left over from the second std::cin. So ignore() should have read it and ignored it, right?<br>
So then why<br>
<table class="quote"><tr><td class="qd">There is a leftover "\n" sitting in the input buffer waiting to be read.</td></tr></table>
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn17248"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17318"><span title="17318,9110,5119,8826,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17318" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm37cadf43a9" title="Sat, 06 Sep 2008 14:20:51 +0000"></span><script type="text/javascript">WhenId('CH_zTm37cadf43a9');</script><noscript>Sep 6, 2008 at 2:20pm UTC</noscript></div>
<div class="dwho"><a href="../../../../user/duoas/default.htm"><b>Duoas</b> (8826)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17318">
(Yawn. Sleep is great. /me wakes up)<br>
<br>
You are right, but I think my statement ordering is what has mixxed you up. Step 10 is a "cin&gt;&gt;foo", which leaves (step 11) the buffer as "<tt>\n</tt>".<br>
<br>
Step 12. Ask for a "cin.ignore()". The <i>intent</i> is to wait for the user to press ENTER sometime after step 12 is executed (which is what I meant by step 13).<br>
<br>
However, because of the unread "<tt>\n</tt>" left over from step 10, (which is what step 14 is talking about), the "cin.ignore()" in step 12 doesn't wait, it just reads 10's "<tt>\n</tt>" and continues on its merry way, without waiting for the user to press a new ENTER.<br>
<br>
Sorry to have confused you.<br>
<br>
[edit]<br>
Oh yeah, the "cin.ignore(...,'\n')" only discards the <i>first</i> newline it encounters. So if your unread input is "<tt>\nabc\n</tt>", then it becomes "<tt>abc\n</tt>".
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmdfb2bac13d" title="Sat, 06 Sep 2008 14:22:47 +0000"></span><script type="text/javascript">WhenId('CH_zTmdfb2bac13d');</script><noscript>Sep 6, 2008 at 2:22pm UTC</noscript></span>
<span class="dbtn" id="CH_btn17318"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg17348"><span title="17348,13171,1023,11788,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg17348" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmdbdb6ebc5a" title="Sun, 07 Sep 2008 00:48:53 +0000"></span><script type="text/javascript">WhenId('CH_zTmdbdb6ebc5a');</script><noscript>Sep 7, 2008 at 12:48am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/helios/default.htm"><b>helios</b> (11788)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i17348">
Oh, I get it, now. I thought you were putting a get() after the ignore(), which is why I got confused.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn17348"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg18071"><span title="18071,14531,255,4,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg18071" title="Link to this post"><img src="../../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmab91aeb000" title="Sun, 14 Sep 2008 02:56:04 +0000"></span><script type="text/javascript">WhenId('CH_zTmab91aeb000');</script><noscript>Sep 14, 2008 at 2:56am UTC</noscript></div>
<div class="dwho"><a href="../../../../user/yesiam/default.htm"><b>YesIAm</b> (4)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i18071">
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;iostream&gt;</dfn>
<dfn>#include &lt;conio.h&gt;</dfn>

<var>int</var> main() {
    cout &lt;&lt; <kbd>"Press any key to continue... "</kbd>;

    _getch();

    <var>return</var> 0;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn18071"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div id="CH_insNew"></div><div id="CH_subscription"></div><div class="rootedtNew"></div><div class="C_pages right">Pages: <a href="../default.htm">1</a><a href="../2/default.htm">2</a><a href="../3/default.htm">3</a><span title="Current page">4</span><a href="../5/default.htm">5</a><a href="../6/default.htm">6</a><a href="../7/default.htm">7</a></div><script type="text/javascript">new for_PostList(1988,1,11631,0,'CH_PostList','CH_subscription',false,'CH_insNew','CH_edttl','../../../thread.cgi','../../../post.cgi','../../../myposts.cgi.htm',64,32,512,256,1024,16);</script></div>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7973859818";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<acript type="text/javascript"
src="../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="../../../../default.htm">C++</a></b></h3>
<ul>
<li class="folder info"><a href="../../../../info/default.htm">Information</a></li>
<li class="folder doc"><a href="../../../../doc/default.htm">Tutorials</a></li>
<li class="folder reference"><a href="../../../../reference/default.htm">Reference</a></li>
<li class="folder articles"><a href="../../../../articles/default.htm">Articles</a></li>
<li class="folder selected forum"><a href="../../../default.htm">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="../../../default.htm">Forum</a></b></h3>
<ul>
<li class="selected"><a href="../../default.htm"><b>Beginners</b></a></li><li><a href="../../../windows/default.htm"><b>Windows Programming</b></a></li><li><a href="../../../unices/default.htm"><b>UNIX/Linux Programming</b></a></li><li><a href="../../../general/default.htm"><b>General C++ Programming</b></a></li><li><a href="../../../lounge/default.htm"><b>Lounge</b></a></li><li><a href="../../../jobs/default.htm"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<acript type="text/javascript"
src="../../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="../../../../default.htm">Home page</a> | <a href="../../../../privacy.do.htm">Privacy policy</a><br>&copy; cplusplus.com, 2000-2014 - All rights reserved - <i>v3.1</i><br><a href="../../../../contact.doreferrerwww.cplusplus.com_252fforum_252fb~27.htm">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="../../../../user/default.htm">'+us.user+'</a></b></h3><ul><li><a href="../../../myposts.cgi.htm">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? '../../../../../httpsssl/default.htm' : '../../../../../www/default.htm') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>