<!DOCTYPE html><!-- saved from url=(0058)http://www.cplusplus.com/forum/beginner/146655/default.htm --><meta http-equiv="X-UA-Compatible" content="IE=Edge" />

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>string::erase() - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico">
<link rel="stylesheet" type="text/css" href="../../../v321/main.css">
<script src="../../../v321/main.js" type="text/javascript"></script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="../../../default.htm" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="../../default.htm">Forum</a></li>
<li><a href="../default.htm">Beginners</a></li>
<li class="here">string::erase()</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support"><script type="text/javascript"><!--
if (!cookieGet("hspt31")) {
  document.write('<div class="C_DonateBox"></div>');
}
//-->
</script><div class="C_ad728"><script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7973859818";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div><div class="C_supportbottom"></div></div><div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> string::erase()</h3><span id="CH_edttl"></span><span class="rootdatPost" title="146655,root,0,-1,5,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg771148"><span title="771148,156278,255,2,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg771148" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm85d0c2952d" title="Sun, 02 Nov 2014 07:58:31 +0000"></span><script type="text/javascript">WhenId('CH_zTm85d0c2952d');</script><noscript>Nov 2, 2014 at 7:58am UTC</noscript></div>
<div class="dwho"><a href="../../../user/igoreshka3333/default.htm"><b>igoreshka3333</b> (2)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i771148">
Hi guys! Sorry for my Englisg<br>
Faced with such a problem: given a string. It is necessary to put of all the words from a string in the vector, but it does'nt work. I have read this reference<br>
<a href="../../../reference/string/string/erase/default.htm">http://www.cplusplus.com/reference/string/string/erase/.</a> <br>
And use 0 and count to clean the string by every iteration.<br>
I think problem in erase(), but who knows?<br>
Thanks!<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br></code></pre></td>
<td class="source"><pre><code>  <dfn>#include &lt;iostream&gt;</dfn>
<dfn>#include &lt;string&gt;</dfn>
<dfn>#include &lt;vector&gt;</dfn>
<var>using</var> <var>namespace</var> std;

<var>int</var> main ()
{
    <var>int</var> count = 0;
    string s = <kbd>"one one one little dog run"</kbd>;
    string word;
    vector&lt;string&gt; v;

    string::iterator iterbeg;
    string::iterator iterend = s.end();
    iterend--;
    <var>for</var> ( iterbeg = s.begin(); iterbeg != s.end(); iterbeg++ )
    {
        ++count;
        <var>if</var> ( *iterbeg == <kbd>' '</kbd> || *iterbeg == *iterend+1 )
            <var>for</var> ( string::iterator itersec = s.begin(); itersec != iterbeg; itersec++ )
                word += *itersec;
        v.push_back(word);
        word.clear();
        s.erase( 0, count );
    }

    <var>for</var> ( vector&lt;string&gt;::iterator it = v.begin(); it != v.end(); it++ )
        cout &lt;&lt; *it &lt;&lt; <kbd>'\n'</kbd>;

    system (<kbd>"pause"</kbd>);
    <var>return</var> 0;
}</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmd66f1cca3f" title="Sun, 02 Nov 2014 08:01:27 +0000"></span><script type="text/javascript">WhenId('CH_zTmd66f1cca3f');</script><noscript>Nov 2, 2014 at 8:01am UTC</noscript></span>
<span class="dbtn" id="CH_btn771148"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg771155"><span title="771155,147028,1023,134,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg771155" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm8dc03bd87f" title="Sun, 02 Nov 2014 08:22:30 +0000"></span><script type="text/javascript">WhenId('CH_zTm8dc03bd87f');</script><noscript>Nov 2, 2014 at 8:22am UTC</noscript></div>
<div class="dwho"><a href="../../../user/andy1992/default.htm"><b>andy1992</b> (134)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i771155">
If your string contains a bunch of words in it separated by white spaces then you could use a stream to load them into vector obj<br>
<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br></code></pre></td>
<td class="source"><pre><code><dfn>#include &lt;sstream&gt;</dfn>

<cite>///in main make a stringstream object</cite>

 stringstream ss; ss.str (<kbd>""</kbd>); ss.clear ();
 <cite>//s is your string and v is your vector</cite>
 ss &lt;&lt;s; <cite>//load string into stream</cite>
string temp;

<cite>///load words into vector</cite>

 <var>while</var> (ss&gt;&gt; temp)
 {
   v.push_back (temp);
 }</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="dbtn" id="CH_btn771155"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg771156"><span title="771156,153338,1023,272,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg771156" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm91aaa1613a" title="Sun, 02 Nov 2014 08:24:16 +0000"></span><script type="text/javascript">WhenId('CH_zTm91aaa1613a');</script><noscript>Nov 2, 2014 at 8:24am UTC</noscript></div>
<div class="dwho"><a href="../../../user/esslercuffi/default.htm"><b>Esslercuffi</b> (272)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i771156">
the for loop at line 20 is causing problems. <br>
<br>
first time through, word ends up being a null string,  count is 1, so s.erase() call ends up just deleting the first character. problems compound from there.<br>
<br>
rather than messing with all these iterators and begin() end() business, consider that strings are actually themselves vectors of characters.  This means that you can access them with array subscript notation. Doing so makes this really easy: <br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br></code></pre></td>
<td class="source"><pre><code>	<var>for</var>( <var>int</var> c = 0; c &lt; s.size() - 1; c++ )
	{
		<var>if</var>( s[c] == <kbd>' '</kbd> )
		{
			<var>if</var>( word != <kbd>""</kbd> ) 
				v.push_back( word );
			word = <kbd>""</kbd>;
		}
		<var>else</var>
			word += s[c];
	}</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
*edit*  Just noticed that I'm not pushing the last word in the string with the above.  fixing it now
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm38ddb3d28b" title="Sun, 02 Nov 2014 08:28:01 +0000"></span><script type="text/javascript">WhenId('CH_zTm38ddb3d28b');</script><noscript>Nov 2, 2014 at 8:28am UTC</noscript></span>
<span class="dbtn" id="CH_btn771156"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg771157"><span title="771157,153338,1023,272,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg771157" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm5ec18d5fc5" title="Sun, 02 Nov 2014 08:31:45 +0000"></span><script type="text/javascript">WhenId('CH_zTm5ec18d5fc5');</script><noscript>Nov 2, 2014 at 8:31am UTC</noscript></div>
<div class="dwho"><a href="../../../user/esslercuffi/default.htm"><b>Esslercuffi</b> (272)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i771157">
here's the fixed version <div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></code></pre></td>
<td class="source"><pre><code>	<var>for</var>( <var>int</var> c = 0; c &lt; s.size(); c++ )
	{
		<var>if</var>( s[c] == <kbd>' '</kbd> )
		{
			<var>if</var>( word != <kbd>""</kbd> ) 
				v.push_back( word );
			word = <kbd>""</kbd>;
		}
		<var>else</var>
			word += s[c];
	}
	<var>if</var>( word != <kbd>""</kbd> ) 
		v.push_back( word );</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
stringstreaming it like Andy suggested above might be the way to go though.
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm758aa1f333" title="Sun, 02 Nov 2014 08:37:56 +0000"></span><script type="text/javascript">WhenId('CH_zTm758aa1f333');</script><noscript>Nov 2, 2014 at 8:37am UTC</noscript></span>
<span class="dbtn" id="CH_btn771157"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg771167"><span title="771167,156278,255,2,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg771167" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm25b6cd4a18" title="Sun, 02 Nov 2014 09:29:06 +0000"></span><script type="text/javascript">WhenId('CH_zTm25b6cd4a18');</script><noscript>Nov 2, 2014 at 9:29am UTC</noscript></div>
<div class="dwho"><a href="../../../user/igoreshka3333/default.htm"><b>igoreshka3333</b> (2)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i771167">
Thanks a lot for your answers! Problem is fixed<br>
andy1992, interesting approach, I will study!<br>
Esslercuffi, really every symbol were deleted for each iteration, I forgot the brackets in the operator if ! 
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm6a9c7740d7" title="Sun, 02 Nov 2014 09:50:38 +0000"></span><script type="text/javascript">WhenId('CH_zTm6a9c7740d7');</script><noscript>Nov 2, 2014 at 9:50am UTC</noscript></span>
<span class="dbtn" id="CH_btn771167"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Registered users can post here. <a href="../../../user/default.htm">Sign in or register</a> to post.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(146655,0,156278,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','../../thread.cgi','../../post.cgi','../../myposts.cgi.htm',64,32,512,256,1024,16);</script></div>
</div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="../../../default.htm">C++</a></b></h3>
<ul>
<li class="folder info"><a href="../../../info/default.htm">Information</a></li>
<li class="folder doc"><a href="../../../doc/default.htm">Tutorials</a></li>
<li class="folder reference"><a href="../../../reference/default.htm">Reference</a></li>
<li class="folder articles"><a href="../../../articles/default.htm">Articles</a></li>
<li class="folder selected forum"><a href="../../default.htm">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="../../default.htm">Forum</a></b></h3>
<ul>
<li class="selected"><a href="../default.htm"><b>Beginners</b></a></li><li><a href="../../windows/default.htm"><b>Windows Programming</b></a></li><li><a href="../../unices/default.htm"><b>UNIX/Linux Programming</b></a></li><li><a href="../../general/default.htm"><b>General C++ Programming</b></a></li><li><a href="../../lounge/default.htm"><b>Lounge</b></a></li><li><a href="../../jobs/default.htm"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="../../../default.htm">Home page</a> | <a href="../../../privacy.do.htm">Privacy policy</a><br>&copy; cplusplus.com, 2000-2014 - All rights reserved - <i>v3.1</i><br><a href="../../../contact.doreferrerwww.cplusplus~206.com_">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="../../../user/default.htm">'+us.user+'</a></b></h3><ul><li><a href="../../myposts.cgi.htm">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? '../../../../httpsssl/default.htm' : '../../../../www/default.htm') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>