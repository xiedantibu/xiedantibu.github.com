<!DOCTYPE html><!-- saved from url=(0056)http://www.cplusplus.com/forum/unices/143250/default.htm --><meta http-equiv="X-UA-Compatible" content="IE=Edge" />

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>need help with makefile - C++ Forum</title>
<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico">
<link rel="stylesheet" type="text/css" href="../../../v321/main.css">
<script src="../../../v321/main.js" type="text/javascript"></script>
</head>
<body>
<div id="I_top">
<div id="I_header">
<div id="I_logo"><a href="../../../default.htm" title="cplusplus.com"><div></div></a></div>
<div id="I_search">
<form id="search" action="/search.do" method="get">
Search: <input name="q" size="20" class="txt"> <input type="submit" value="Go" class="btn">
</form>
</div>
<div id="I_bar">
<ul>
<li><a href="../../default.htm">Forum</a></li>
<li><a href="../default.htm">UNIX/Linux Programming</a></li>
<li class="here">need help with makefile</li>
</ul>
</div>
<div id="I_user" class="C_LoginBox"><span title="ajax"></span></div>
</div>
</div>
<div id="I_mid">
<div id="I_wrap">
<div id="I_minheight"></div>
<div id="I_main">
<div class="C_support"><script type="text/javascript"><!--
if (!cookieGet("hspt31")) {
  document.write('<div class="C_DonateBox"></div>');
}
//-->
</script><div class="C_ad728"><script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7973859818";
google_ad_width = 728;
google_ad_height = 90;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script></div><div class="C_supportbottom"></div></div><div id="I_content">
<h3><div class="C_ico default" title="post">&nbsp;</div> need help with makefile</h3><span id="CH_edttl"></span><span class="rootdatPost" title="143250,root,0,-1,5,0"></span><div id="CH_PostList"><div class="C_forPost" id="msg755837"><span title="755837,125638,1023,128,1"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg755837" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm17e9afdc64" title="Wed, 24 Sep 2014 23:37:18 +0000"></span><script type="text/javascript">WhenId('CH_zTm17e9afdc64');</script><noscript>Sep 24, 2014 at 11:37pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/chubby/default.htm"><b>Chubby</b> (128)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i755837">
I am try to make a makefile. but didnt work<br>
<br>
i type touch makefile ---&gt; makefile  create ----&gt; in the makefile i write this<br>
<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br></code></pre></td>
<td class="source"><pre><code>  CC = gcc
  CFLAGS  = -g -Wall

  <dfn># the build target executable:</dfn>
  TARGET = proj1.c

  all: $(TARGET)

  $(TARGET): $(TARGET).c
  	$(CC) $(CFLAGS) -o $(TARGET) $(TARGET).c

  clean:
  	$(RM) $(TARGET)</code></pre></td><td class="C_btnholder"></td></tr></table></div>
 ---&gt;run it<br>
<br>
but problem is i chose input file and outfile but dont see an output file<br>
<br>
<br>
I do have test.txt and proj1.c in same dic
</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTm7ab6d276ae" title="Wed, 24 Sep 2014 23:47:24 +0000"></span><script type="text/javascript">WhenId('CH_zTm7ab6d276ae');</script><noscript>Sep 24, 2014 at 11:47pm UTC</noscript></span>
<span class="dbtn" id="CH_btn755837"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg755842"><span title="755842,125638,1023,128,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg755842" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTmfcc20f05ac" title="Wed, 24 Sep 2014 23:46:11 +0000"></span><script type="text/javascript">WhenId('CH_zTmfcc20f05ac');</script><noscript>Sep 24, 2014 at 11:46pm UTC</noscript></div>
<div class="dwho"><a href="../../../user/chubby/default.htm"><b>Chubby</b> (128)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i755842">
for example if i run<br>
<br>
I will type<br>
<br>
make -f*. make project1<br>
<br>
project1 test.txt output.txt<br>
<br>
which mean test.txt will be read into code and it will output the on output.txt
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn755842"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg755858"><span title="755858,125638,1023,128,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg755858" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm5de9e79ba0" title="Thu, 25 Sep 2014 00:27:39 +0000"></span><script type="text/javascript">WhenId('CH_zTm5de9e79ba0');</script><noscript>Sep 25, 2014 at 12:27am UTC</noscript></div>
<div class="dwho"><a href="../../../user/chubby/default.htm"><b>Chubby</b> (128)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i755858">
 Fatal error in reader: Makefile, line 7: Unexpected end of line seen
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn755858"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg761400"><span title="761400,107812,1023,7,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg761400" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm4d07f359bb" title="Thu, 09 Oct 2014 08:47:50 +0000"></span><script type="text/javascript">WhenId('CH_zTm4d07f359bb');</script><noscript>Oct 9, 2014 at 8:47am UTC</noscript></div>
<div class="dwho"><a href="../../../user/chhquan/default.htm"><b>chhquan</b> (7)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i761400">
use: TARGET = proj1<br>
<br>
the target is proj1, but not pro1.c.
</div>
<div class="dhow">
<span class="dbtn" id="CH_btn761400"></span>

</div>
</div>
</div>
<div class="C_forPost" id="msg761421"><span title="761421,17129,1023,7248,0"></span>
<div class="box">
<div class="boxtop">
<div class="dwhen"><a href="#msg761421" title="Link to this post"><img src="../../../img/link.png" width="16" height="8"></a> <span id="CH_zTm64a855cd8f" title="Thu, 09 Oct 2014 11:13:38 +0000"></span><script type="text/javascript">WhenId('CH_zTm64a855cd8f');</script><noscript>Oct 9, 2014 at 11:13am UTC</noscript></div>
<div class="dwho"><a href="../../../user/kbw/default.htm"><b>kbw</b> (7248)</a></div>
</div>
<div class="dwhat" colspan="2" id="CH_i761421">
There are a number of problems.<br>
<br>
The target is an executable, not a .c file:<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code>TARGET = proj1.c</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
That should be:<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code>TARGET = proj1</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<br>
The program is dependent on object files.  The object files are dependent on source files, but GNU make already knows that, so you don't need to tell it how to compile.<br>
<br>
Now, make provides a way of making up object file names, from source file names using text substitution.<br>
<br>
So, we need to name the source files:<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>&nbsp;</code></pre></td>
<td class="source"><pre><code>SRCS = proj1.c</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
And you do have to tell it how to link.<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br></code></pre></td>
<td class="source"><pre><code>$(TARGET): $(SRCS:.c=.o)
  	$(LINK.c) $^ -o $@</code></pre></td><td class="C_btnholder"></td></tr></table></div>
<br>
<span class="auto"><code class="source">$^</code></span> is the list of sources, <span class="auto"><code class="source">proj1.o</code></span> in this case.<br>
<span class="auto"><code class="source">$@</code></span> is the name of the target, <span class="auto"><code class="source">proj1</code></span> in this case.<br>
Use <span class="auto"><code class="source">$(LINK.cc)</code></span> to link C++ programs.<br>
<br>
<br>
The clean step must also delete the object files:<div class="auto"><table class="snippet"><tr><td class="rownum"><pre><code>1<br>2<br></code></pre></td>
<td class="source"><pre><code>clean:
  	rm $(TARGET) $(SRCS:.c=.o)</code></pre></td><td class="C_btnholder"></td></tr></table></div>

</div>
<div class="dhow">
<span class="sedited">Last edited on <span id="CH_zTmef9fb51c68" title="Thu, 09 Oct 2014 11:21:52 +0000"></span><script type="text/javascript">WhenId('CH_zTmef9fb51c68');</script><noscript>Oct 9, 2014 at 11:21am UTC</noscript></span>
<span class="dbtn" id="CH_btn761421"></span>

</div>
</div>
</div>
</div><div class="rootinsMore"></div><div class="rootbtnMore"></div><div class="rootinsNew"></div><div class="rootbtnNew"></div><div id="CH_insNew"></div><div id="CH_reply">Registered users can post here. <a href="../../../user/default.htm">Sign in or register</a> to post.</div><div id="CH_subscription"></div><div class="rootedtNew"></div><script type="text/javascript">new for_PostList(143250,0,125638,0,'CH_PostList','CH_subscription','CH_reply','CH_insNew','CH_edttl','../../thread.cgi','../../post.cgi','../../myposts.cgi.htm',64,32,512,256,1024,16);</script></div>
</div>
<div id="I_nav">
<div class="sect root">
<h3><b><a href="../../../default.htm">C++</a></b></h3>
<ul>
<li class="folder info"><a href="../../../info/default.htm">Information</a></li>
<li class="folder doc"><a href="../../../doc/default.htm">Tutorials</a></li>
<li class="folder reference"><a href="../../../reference/default.htm">Reference</a></li>
<li class="folder articles"><a href="../../../articles/default.htm">Articles</a></li>
<li class="folder selected forum"><a href="../../default.htm">Forum</a></li>
</ul>
</div>
<div class="sect">
<h3><b><a href="../../default.htm">Forum</a></b></h3>
<ul>
<li><a href="../../beginner/default.htm"><b>Beginners</b></a></li><li><a href="../../windows/default.htm"><b>Windows Programming</b></a></li><li class="selected"><a href="../default.htm"><b>UNIX/Linux Programming</b></a></li><li><a href="../../general/default.htm"><b>General C++ Programming</b></a></li><li><a href="../../lounge/default.htm"><b>Lounge</b></a></li><li><a href="../../jobs/default.htm"><b>Jobs</b></a></li></ul>
</div>
<div id="I_subnav"></div>
<div class="C_ad234">
<script type="text/javascript"><!--
google_ad_client = "ca-pub-7688470879129516";
google_ad_slot = "7445514729";
google_ad_width = 234;
google_ad_height = 60;
//-->
</script>
<acript type="text/javascript"
src="../../../../pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div></div>
<div id="I_midclear"></div>
</div>
</div>
<div id="I_bottom">
<div id="I_footer">
	<a href="../../../default.htm">Home page</a> | <a href="../../../privacy.do.htm">Privacy policy</a><br>&copy; cplusplus.com, 2000-2014 - All rights reserved - <i>v3.1</i><br><a href="../../../contact.doreferrerwww.cplusplus~289.com_">Spotted an error? contact us</a>
</div>
</div>

<script type="text/javascript">
<!--
function NavFor(us) {document.getElementById('I_subnav').innerHTML=us.ok?'<div class="sect"><h3><b><a href="../../../user/default.htm">'+us.user+'</a></b></h3><ul><li><a href="../../myposts.cgi.htm">My topics</a></li></ul></div>':'';}onSession(NavFor);ready();
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-521783-1']);
_gaq.push(['_trackPageview']);

(function() {
  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
  ga.src = ('https:' == document.location.protocol ? '../../../../httpsssl/default.htm' : '../../../../www/default.htm') + '.google-analytics.com/ga.js';
  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();

//-->
</script>

</body>
</html>